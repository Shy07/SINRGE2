<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="cn">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Sprite</title>
  <link href="./style.css" type="text/css" rel="stylesheet">
</head>
<body>
<h1>Sprite</h1>
<p>精灵的类。精灵是在游戏画面上显示角色等的基本概念。</p>
<h2>超类</h2>
<ul>
  <li>Object</li>
</ul>
<h2>类方法</h2>
<dl>

  <dt>Sprite.new([<var>viewport</var>])</dt>
  <dd>
    <p>生成一个 Sprite 实例。必要时可以指定一个 <a href="gc_viewport.html">Viewport</a>。</p>
  </dd>

</dl>
<h2>方法</h2>
<dl>

  <dt>dispose</dt>
  <dd>
    <p>释放 Sprite。若是已经释放则什么都不做。</p>
  </dd>

  <dt>disposed?</dt>
  <dd>
    <p>Sprite 已释放时返回 true。</p>
  </dd>

  <dt><a name="flash">flash(<var>color</var>, <var>duration</var>)</a></dt>
  <dd>
    <p>开始闪烁 Sprite。<var>duration</var> 是指定闪烁的画格数。</p>
    <p>若 <var>color</var> 设为 nil，则闪烁时 Sprite 会消失。</p>
  </dd>

  <dt>update</dt>
  <dd>
    <p>刷新 Sprite 的闪烁或波浪效果。原则上，此方法一画格调用一次。</p>
    <p>若是没有使用闪烁或波浪效果时，无须调用此方法。</p>
  </dd>

  <dt>width</dt>
  <dd>
    <p>获取 Sprite 的宽度，相当于 src_rect.width。</p>
  </dd>

  <dt>height</dt>
  <dd>
    <p>获取 Sprite 的高度，相当于 src_rect.height。</p>
  </dd>

  <dt>play_movie(<var>filename</var>[, <var>volume</var>])</dt>
  <dd>
    <p>在 Sprite 上播放一个 MPEG 编码的视频。filename 为视频的文件名。</p>
    <p>volume 为播放时的初始音量，预设为 0。</p>
    <p>注意：全局只允许一个 Sprite 实例播放视频。</p>
  </dd>

  <dt>is_playing</dt>
  <dd>
    <p>获取视频播放状态，正在播放时返回 true。</p>
  </dd>

  <dt>replay_at_finish</dt>
  <dd>
    <p>当视频播放到结尾时自动从头开始播放，相当于 rewind_movie unless is_playing 。</p>
    <p>此方法需要每帧调用。</p>
  </dd>

  <dt>stop_movie</dt>
  <dd>
    <p>停止播放视频。</p>
  </dd>

  <dt>rewind_movie</dt>
  <dd>
    <p>从头开始播放视频。</p>
  </dd>

</dl>
<h2>属性</h2>
<dl>

  <dt>bitmap</dt>
  <dd>
    <p>Sprite 的 <a href="gc_bitmap.html">Bitmap</a>。</p>
  </dd>

  <dt>src_rect</dt>
  <dd>
    <p>Sprite 的源 <a href="gc_rect.html">Rect</a>。Sprite 将只显示此矩形范围的 bitmap。</p>
  </dd>

  <dt>viewport</dt>
  <dd>
    <p>用于显示 Sprite 的 <a href="gc_viewport.html">Viewport</a>。</p>
  </dd>

  <dt>visible</dt>
  <dd>
    <p>Sprite 的可见状态，true 表示可见。</p>
  </dd>

  <dt><a name="x">x</a></dt>
  <dd>
    <p>Sprite 的 X 坐标。</p>
  </dd>

  <dt>y</dt>
  <dd>
    <p>Sprite 的 Y 坐标。</p>
  </dd>

  <dt>z</dt>
  <dd>
    <p>Sprite 的 Z 坐标。数值愈大的平面愈靠近玩家。</p>
  </dd>
  <dd>
    <p>Z 坐标相同的 Sprite，后生成的对象会更最靠近玩家。</p>
  </dd>

  <dt>ox</dt>
  <dd>
    <p>Sprite 起始点的 X 坐标。</p>
  </dd>

  <dt>oy</dt>
  <dd>
    <p>Sprite 起始点的 Y 坐标。</p>
  </dd>

  <dt>zoom_x</dt>
  <dd>
    <p>Sprite 的横向放大率，1.0 表示原始大小。</p>
  </dd>

  <dt>zoom_y</dt>
  <dd>
    <p>Sprite 的纵向放大率，1.0 表示原始大小。</p>
  </dd>

  <dt>angle</dt>
  <dd>
    <p>Sprite 的旋转角度。以逆时钟方向指定，最高到（逆时钟）360度。然而绘制旋转的精灵会消耗大量的时间，所以请避免过量使用。</p>
  </dd>

  <dt>wave_amp</dt>
  <dt>wave_length</dt>
  <dt>wave_speed</dt>
  <dt>wave_phase</dt>
  <dd>
    <p>功能未实现</p>
  </dd>

  <dt>mirror</dt>
  <dd>
    <p>Sprite 横向翻转的状态，true 表示翻转。</p>
  </dd>

  <dt>bush_depth</dt>
  <dt>bush_opacity</dt>
  <dd>
    <p>Sprite 的草木繁茂处的深度和不透明度。可以用来表示，如：角色的腿被草丛半遮住的效果。</p>
    <p>bush_depth 是草木繁茂处的像素数。默认值为 0。</p>
    <p>bush_opacity 是草木繁茂处的不透明度，范围是0～255。超出范围的数值会自动修正。默认值 128。</p>
  </dd>
  <dd>
    <p>bush_opacity 之值会乘以 opacity之值。举例来说：opacity 和 bush_opacity 都设为 128，就会视为透明度上再加上透明度来处理，所以实际的不透明度为 64。</p>
  </dd>

  <dt>opacity</dt>
  <dd>
    <p>Sprite 的不透明度（0～255）。超出范围的数值会自动修正。</p>
  </dd>

  <dt>blend_type</dt>
  <dd>
    <p>Sprite 的合成方式（0：正常、1：加法、2：减法）。</p>
  </dd>

  <dt>color</dt>
  <dd>
    <p>Sprite 的合成颜色（<a href="gc_color.html">Color</a>）， alpha 值作为合成的比例。</p>
    <p>此颜色与 <a href="#flash">flash</a> 效果的颜色分开处理。然而，alpha 值较高的颜色在合成时，优先度较高。</p>
  </dd>

  <dt>tone</dt>
  <dd>
    <p>Sprite 的色调（<a href="gc_tone.html">Tone</a>）。</p>
  </dd>

  <dt>volume</dt>
  <dd>
    <p>视频的音量。</p>
  </dd>

</dl>
<h6></h6>
</body>
</html>
