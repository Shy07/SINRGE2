<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="cn">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Graphics</title>
  <link href="css/style.css" type="text/css" rel="stylesheet">
</head>
<body>
<h1>Graphics</h1>
<p>执行图像处理的模块。</p>
<h2>模块方法</h2>
<dl>

  <dt>Graphics.update</dt>
  <dd>
    <p>刷新游戏画面，并将时间推前 1 帧。此方法必须在一定时间内调用一次。</p>
    <pre>
loop do
  Graphics.update
  Input.update
  do_something
end
</pre>
  </dd>

  <dt>Graphics.wait(<var>duration</var>)</dt>
  <dd>
    <p>等待指定的帧数，相当于：</p>
<pre>
duration.times do
  Graphics.update
end
</pre>
  </dd>

  <dt><a name="fadeout">Graphics.fadeout(<var>duration</var>)</a></dt>
  <dd>
    <p>淡出画面。</p>
    <p><var>duration</var> 是执行淡出所需的的帧数。</p>
  </dd>

  <dt><a name="fadein">Graphics.fadein(<var>duration</var>)</a></dt>
  <dd>
    <p>淡入画面。</p>
    <p><var>duration</var> 是执行淡入所需的的帧数。</p>
  </dd>

  <dt>Graphics.freeze</dt>
  <dd>
    <p>冻结当前画面，准备渐变的执行。</p>
    <p>调用此方法之后到调用 transition 方法之前，画面可以继续绘制，但是不会反应到屏幕上。</p>
  </dd>

  <dt><a name="transition">Graphics.transition([<var>duration</var>[, <var>filename</var>[, <var>vague</var>]]])</a></dt>
  <dd>
    <p>执行由 Graphics.freeze 所冻结的画面到当前画面的渐变。</p>
  </dd>
  <dd>
    <p><var>duration</var> 是渐变的帧数。省略时预设为 8。</p>
    <p><var>filename</var> 是指定的渐变图形文件名，未指定时则执行标准淡出。扩展名可以省略。</p>
  </dd>
  <dd>
    <p><var>vague</var> 是设置图像的起始点和终结点之间边界的模糊度，数值愈大则愈模糊。省略时预设为 40。</p>
  </dd>

  <dt>Graphics.snap_to_bitmap</dt>
  <dd>
    <p>将当前游戏画面截图存为 <a href="gc_bitmap.html">Bitmap</a> 实例。</p>
    <p>此方法获取的是屏幕缓冲中的图像，与调用 freeze 方法没有关联。</p>
    <p>所生成的位图在不使用时必须被释放掉。</p>
  </dd>

  <dt>Graphics.width</dt>
  <dt>Graphics.height</dt>
  <dd>
    <p>获取画面的宽度和高度。</p>
    <p>预设为 800 和 600.</p>
  </dd>

  <dt>Graphics.screen_size</dt>
  <dd>
    <p>获取画面宽度和高度的 <a href="sc_array.html">Array</a>。</p>
  </dd>

  <dt>Graphics.resize_screen(<var>width</var>, <var>height</var>)</dt>
  <dd>
    <p>修改画面的尺寸。</p>
    <p>宽度和高度的大小没有限制，但是考虑到效率问题，不建议大于 960 × 544。</p>
  </dd>

</dl>
<h2>模块属性</h2>
<dl>

  <dt><a name="frame_rate">Graphics.frame_rate</a></dt>
  <dd>
    <p>每秒钟刷新画面的次数(FPS)。数值愈大就需求愈多的CPU资源。预设为 60。</p>
    <p>一般不建议修改此数值。</p>
  </dd>

  <dt>Graphics.frame_count</dt>
  <dd>
    <p>画面刷新次数的计数。游戏开始时将此属性设为 0，游戏的时间（秒）可以由 此数值 / 刷新率 计算出来。</p>
  </dd>

  <dt>Graphics.brightness</dt>
  <dd>
    <p>画面的亮度。取 0～255 范围间的数值。在淡出、淡入和渐变方法中需要在内部修改此数值。</p>
  </dd>

</dl>
<h6></h6>
</body>
</html>
